<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Create an article </title>
    <link href="/styles/style.css" type="text/css" rel="stylesheet">
    <link href="/styles/specifics.css" type="text/css" rel="stylesheet">
    <link href="/styles/default.css" type = "text/css" rel="stylesheet">

    <!-- Form Validation18-unexpectedv -->
    <script src = "./javascript/formValidation.js"></script>

    <!-- Used to make Navigation Bar Sticky -->
    <script src = "./javascript/sticky_nav.js"></script>
</head>
<body>
<!-- Site Navigation Bar -->
<% include ./partial/navbar.ejs%>

<div class = "grid-container-about">
    <br>
    <div class = "item1style formstyle">
        <h1> Create your article </h1>
        <hr>

<form action = "../new-issue/" method = "post" onsubmit="return validateArticle()">
    <input type="hidden" name="author" value = <%=user.username%>>
    <h3>Issue Title:</h3>
    <input type="text" name="name" class="account">
    <h3>Description:</h3>
    <textarea name="description" class="account"></textarea>
    <h3>Image URL:</h3>
    <input type="text" name="image" class="account">
    <h3> Sources:</h3>
    <div id = "container_source">
        <div class="source">
            <select name="source_type" class="account">
                <option value="hl">High level</option>
                <option value="r">Report</option>
                <option value="o">Opinion</option>
            </select>
            <input type="text" name="link" class="account" placeholder="Article link">
            <input type="text" name="article_description" class="account" placeholder="Your description of the article">
        </div>
    </div>
    <button type="button" class="plus_button" onclick="addSource('source')">+</button>
    <h3>Categories:</h3>
    <div id="container_c">
        <input type="text" name="c_source" class="account">
    </div>
    <button type="button" class="plus_button" onclick="addSource('c')">+</button>
    <p id="error"></p> <!--Error messages in form validation will show here. -->
    <button type="submit">Submit</button>
</form>
        <!--TODO: Use post-->
        <form action = "../new-issue/" method = "get" onsubmit="return validateArticle()">
            <input type="hidden" class = "form-input" name="author" value = <%=user.username%>>

            <h3>Article Title:</h3>
            <input type="text" name="name" class = "form-input" placeholder = "i.e. 'Are Takeaway Coffee Cups Recyclable?'">

            <h3>Description of Article:</h3>
            <textarea name="description" class = "form-input" placeholder = "Summary of your view on the issue at a high level"></textarea>

            <h3>Article Banner:</h3>
            <input type="text" name="image" class = "form-input" placeholder = "Image URL">

            <br><hr>
            <p> Enter each source in separately </p>
            <hr>

            <h3>High-Level Sources:</h3>
            <div id="container_hl">
                <input type="text" name="hl_source" class = "form-input" placeholder = "Article URL">
            </div>
            <button type="button" class="plus_button" onclick="addSource('hl')">+</button>

            <h3>Reports:</h3>
            <div id="container_r">
                <input type="text" name="r_source" class = "form-input" class="account">
            </div>
            <button type="button" class="plus_button" onclick="addSource('r')">+</button>

            <h3>Opinion Pieces:</h3>
            <div id="container_o">
                <input type="text" name="o_source" class = "form-input" class="account">
            </div>
            <button type="button" class="plus_button" onclick="addSource('o')">+</button>

            <!--TODO Better Categories-->
            <!--Category selection currently the same as for sources-->
            <h3>Categories:</h3>
            <div id="container_c">
                <input type="text" name="c_source" class = "form-input" placeholder = " i.e. 'environment'">
            </div>
            <button type="button" class="plus_button" onclick="addSource('c')">+</button>
            <p id="error"></p>
            <button type="submit">Submit</button>

        </form>
    </div>
    <br>

</div>

<footer>
    <% include ./partial/footer.ejs%>
</footer>
</body>
</html>