<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Application to create an article -->
    <title> Create an article </title>

    <link href="/styles/style.css" type="text/css" rel="stylesheet">
    <link href="/styles/specifics.css" type="text/css" rel="stylesheet">
    <link href="/styles/default.css" type = "text/css" rel="stylesheet">

    <!-- Form Validation -->
    <script src = "./javascript/formValidation.js"></script>

    <!-- Used to make Navigation Bar Sticky -->
    <script src = "./javascript/sticky_nav.js"></script>
</head>

<body>
<!-- Site Navigation Bar -->
<% include ./partial/navbar.ejs%>

<div class = "content" > <!-- Used to make footers sticky -->

    <div class = "grid-container-thirds">
        <br>

        <!-- Form to Create an Article - only available to Editors -->
        <div class = "item1style formstyle">
            <h1> <img src = "../images/eye-open.png" class = "form-icons"> Create your article </h1>
            <hr>

<!--            <form action = "../new-issue/" method = "post">-->
            <form action = "../new-issue/" method = "post" onsubmit="return validateArticle()">
                <input type="hidden" class = "form-input" name="author" value = <%=user.username%>>

                <h3>Article Title:</h3>
                <input type="text" name="name" class = "form-input"
                       placeholder = "i.e. 'Are Takeaway Coffee Cups Recyclable?'">

                <h3>Description of Article:</h3>
                <textarea name="description" class = "form-input" id = "description-input"
                          placeholder = "Summary of your view on the issue at a high level"></textarea>

                <h3>Article Banner:</h3>
                <input type="text" name="image" class = "form-input" placeholder = "Image URL">

                <br><hr>
                <h4 class = "darkgray_text"> - Include minimum one of each type of resource - </h4>
                <hr>

                <h3> Resource Repository:</h3>
                <div id = "container_source" class = "source grid-container-repos">
                    <!-- Embedded CSS grid to format the Repository Form Section -->
                    <!--<div class = "source grid-container-repos">-->
                        <div id = "res-link">
                            <input type="text" name="link" class="a-field form-input link-input"
                                   placeholder="Suggested Article Link">
                        </div>

                        <!-- Select what type of Suggested Link it is, so database knows how to store information -->
                        <div id = "res-selector" >
                            <select name="source_type" class="form-input res-input">
                                <option value="hl">High level</option>
                                <option value="r">Report</option>
                                <option value="o">Opinion</option>
                            </select>
                        </div>
                        <div id = "res-descriptor">
                            <textarea type="text" name="article_description" class="a-field form-input descriptor-input"
                                      placeholder="Your description of why you are suggesting this article"></textarea>
                        </div>
                    </div>
                <!--/div-->
                <br>

                <div id = "container_source2">

                    <!-- Embedded CSS grid to format the Repository Form Section -->
                    <div class = "grid-container-repos">
                        <div id = "res-link">
                            <input type="text" name="link" class="a-field form-input link-input"
                                   placeholder="Suggested Article Link">
                        </div>

                        <!-- Select what type of Suggested Link it is, so database knows how to store information -->
                        <div id = "res-selector" >
                            <select name="source_type" class="form-input res-input">
                                <option value="hl">High level</option>
                                <option value="r">Report</option>
                                <option value="o">Opinion</option>
                            </select>
                        </div>
                        <div id = "res-descriptor">
                            <textarea type="text" name="article_description" class="a-field form-input descriptor-input"
                                      placeholder="Your description of why you are suggesting this article"></textarea>
                        </div>
                    </div>
                </div>
                <br>

                <div id = "container_source3">

                    <!-- Embedded CSS grid to format the Repository Form Section -->
                    <div class = "grid-container-repos">
                        <div id = "res-link">
                            <input type="text" name="link" class="a-field form-input link-input"
                                   placeholder="Suggested Article Link">
                        </div>

                        <!-- Select what type of Suggested Link it is, so database knows how to store information -->
                        <div id = "res-selector" >
                            <select name="source_type" class="form-input res-input">
                                <option value="hl">High level</option>
                                <option value="r">Report</option>
                                <option value="o">Opinion</option>
                            </select>
                        </div>
                        <div id = "res-descriptor">
                            <textarea type="text" name="article_description" class="a-field form-input descriptor-input"
                                      placeholder="Your description of why you are suggesting this article"></textarea>
                        </div>
                    </div>
                </div>
                <br>

                <!-- Clones fields to add as many links as desired -->
                <button type="button" class="plus_button add" onclick="addSource('source')">+</button>
                <hr>

                <!-- Editor can add categories which are used to return 'topic-specific' search results -->
                <h3>Categories:</h3>
                <div id="container_c">
                    <input type="text" name="c_source" class="form-input categories-input"
                           placeholder = "i.e. 'australia'">
                </div>
                <!-- Clones fields to add more categories -->
                <button type="button" class="plus_button add" onclick="addSource('c')">+</button>
                <p id="error"></p> <!--Error messages in form validation will show here. -->
                <button type="submit" class="submit">Submit</button>

            </form>
        </div>
        <br>

    </div>
</div>

<footer>
    <% include ./partial/footer.ejs%>
</footer>
</body>
</html>